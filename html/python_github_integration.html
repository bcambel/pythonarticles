<!-- Auto generated by http://github.com/bcambel/pythonarticles now! -->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Integration with Github</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Integration with Github"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://pythonarticles.com/python_github_integration.html"/>
    <meta property="og:site_name" content="PythonArticles"/>
    <meta property="og:description" content="Integration with Github using RAuth"/>
    <meta name="description" content="Integration with Github using RAuth" />
    <meta name='keywords' content='python github integration, python github api, python github rauth' />
    <link rel="alternate" type="application/rss+xml" title="PythonArticles RSS Feed" href="http://feeds.feedburner.com/PyArticles" />

    <link href="http://fonts.googleapis.com/css?family=Muli|Domine|Amaranth:400,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!--link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"-->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
 	<!-- <link href="//netdna.bootstrapcdn.com/bootswatch/2.3.2/flatly/bootstrap-combined.min.css" rel='stylesheet' > -->
   <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
   <link href="http://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
    <link href="/static/css/app.css?v=23" rel="stylesheet">
    <link href="/static/css/pygments_tango.css?v=2" rel="stylesheet">
</head>
<body>

<div class="navbar navbar-fixed-top visible-phone">
  <div class="navbar-inner">
    <div class="container"> 
    <a class="brand" href="/">&nbsp;Python Articles&nbsp;</a>
    <a class="" href="http://pythonhackers.com" target='_blank'>Python Hackers</a>
    <!--Button to collapse the Navigation--> 
    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <i class='icon-collapse icon-2x'></i>
    </a>
      <div class="nav-collapse">
        <ul class="nav">
          
                        <li>
                            <a href="/building_pythonhackers_intro.html" data-track='posts-building_pythonhackers_intro'>
                                building pythonhackers intro
                            </a>
                        </li>
                        
                        <li>
                            <a href="/decorators_part1.html" data-track='posts-decorators_part1'>
                                decorators part1
                            </a>
                        </li>
                        
                        <li>
                            <a href="/decorators_part2.html" data-track='posts-decorators_part2'>
                                decorators part2
                            </a>
                        </li>
                        
                        <li>
                            <a href="/generators.html" data-track='posts-generators'>
                                generators
                            </a>
                        </li>
                        
                        <li>
                            <a href="/introduction_to_flask.html" data-track='posts-introduction_to_flask'>
                                introduction to flask
                            </a>
                        </li>
                        
                        <li>
                            <a href="/itertools.html" data-track='posts-itertools'>
                                itertools
                            </a>
                        </li>
                        
                        <li>
                            <a href="/list_comprehension.html" data-track='posts-list_comprehension'>
                                list comprehension
                            </a>
                        </li>
                        
                        <li>
                            <a href="/mock.html" data-track='posts-mock'>
                                mock
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_dictionaries.html" data-track='posts-python_dictionaries'>
                                python dictionaries
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_github_integration.html" data-track='posts-python_github_integration'>
                                python github integration
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_lists.html" data-track='posts-python_lists'>
                                python lists
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_server_setup_part1.html" data-track='posts-python_server_setup_part1'>
                                python server setup part1
                            </a>
                        </li>
                        
        </ul>
      </div>
      <!--/.nav-collapse --> 
    </div>
  </div>
</div>

<div class="navbar hidden-phone">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="/">&nbsp;Python Articles&nbsp;</a>
            <ul class="nav">
                
                <li>
                    <a data-track='hackers' target='_blank' href='http://pythonhackers.com'>Hackers</a>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Beginner<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li>
                            <a data-track='dict-begin-menu' href='/python_dictionaries.html'> <i style='color:red' class='icon-fire'></i>&nbsp;Dictionaries</a>
                        </li>
                        <li>
                            <a data-track='list-begin-menu' href='/python_lists.html'> Lists </a>
                        </li>

                        <li>
                            <a data-track='list_comp-begin-menu' href='/list_comprehension.html'> List Comprehension</a>
                        </li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Posts<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <li>
                            <a href="/building_pythonhackers_intro.html" data-track='posts-building_pythonhackers_intro'>
                                building pythonhackers intro
                            </a>
                        </li>
                        
                        <li>
                            <a href="/decorators_part1.html" data-track='posts-decorators_part1'>
                                decorators part1
                            </a>
                        </li>
                        
                        <li>
                            <a href="/decorators_part2.html" data-track='posts-decorators_part2'>
                                decorators part2
                            </a>
                        </li>
                        
                        <li>
                            <a href="/generators.html" data-track='posts-generators'>
                                generators
                            </a>
                        </li>
                        
                        <li>
                            <a href="/introduction_to_flask.html" data-track='posts-introduction_to_flask'>
                                introduction to flask
                            </a>
                        </li>
                        
                        <li>
                            <a href="/itertools.html" data-track='posts-itertools'>
                                itertools
                            </a>
                        </li>
                        
                        <li>
                            <a href="/list_comprehension.html" data-track='posts-list_comprehension'>
                                list comprehension
                            </a>
                        </li>
                        
                        <li>
                            <a href="/mock.html" data-track='posts-mock'>
                                mock
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_dictionaries.html" data-track='posts-python_dictionaries'>
                                python dictionaries
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_github_integration.html" data-track='posts-python_github_integration'>
                                python github integration
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_lists.html" data-track='posts-python_lists'>
                                python lists
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_server_setup_part1.html" data-track='posts-python_server_setup_part1'>
                                python server setup part1
                            </a>
                        </li>
                        
                    </ul>
                </li>
                <li><a id='newsletter-link' href='#mc_embed_signup' data-toggle='modal' data-track='newsletter'>Newsletter</a></li>
                <li >
                    <a href="http://feeds.feedburner.com/PyArticles"><img src="http://feeds.feedburner.com/~fc/PyArticles?bg=99CCFF&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a>
                </li>
                <li style='margin-top:10px'>
 <a href="https://twitter.com/pythonhackers" class="twitter-follow-button" data-show-count="true" data-lang="en" >Follow @us</a>        
                </li>
            </ul>
        </div>
    </div>
</div>
    <div class="container-fluid main-content">
        
        <div class='span12 row-fluid' style='margin-left:0px;'>
        
<div class='span2 hidden-phone' id='left-menu'>
    
            <ul style='list-style-type:none;margin-left:3px;padding-left:3px;'>

            </ul>
            <hr />
            <a href="https://twitter.com/share" class="twitter-share-button" data-via="bahadircambel" data-size="large" data-related="pythonhackers">Tweet</a>
            <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
</div>
<div class="span11" >
<article id="content_html" >
    <span class='pull-right article_date'>2013-08-01</span>
    <span class='pull-right badge badge-info'>intermediate</span>
     
            <span class='pull-right badge badge-warning'>github</span>
            
            <span class='pull-right badge badge-warning'> rauath</span>
            
    <h1>Integration with GitHub</h1>

<p>Go to <a href="https://github.com/settings/applications/new">GitHub Application Section</a> to create a new application. This will require to write down;</p>

<ul>
<li>Application Name</li>
<li>HomePage URL</li>
<li>Authorization Callback URL -> <code>dev.yourapplication.com</code></li>
</ul>

<p>Authorization Callback URL is the most important bit of this application entry. Because this will be the URL that GitHub will be directing users
to your application. For the develoment purposes you can modify your <code>/etc/hosts</code> files to enter a proper URL</p>

<p>After saving the application, Github will give you the <code>client<em>id</code> and <code>client</em>secret</code>. You will need them soon, so save them to your machine</p>

<div class="syntax"><pre><code>sudo vim /etc/hosts
</code></pre></div>

<p>and add this entry to the hosts file <code>127.0.0.1 dev.yourapplication.com</code>. One thing to be careful with is that if your application uses port in your local
environment, you have to specify the port on the Github settings as well. If the URL does not match, Github will complain that the URL is not matching.</p>

<p>In order to integration with the Github OAuth2 we will use the <a href="https://github.com/litl/rauth">rauth</a> library.</p>

<p>Let's do the things in proper way and create a configuration file. Here is mine.</p>

<div class="syntax"><pre><code><span class="k">[app]</span>
<span class="na">static</span><span class="o">=</span>
<span class="na">templates</span><span class="o">=</span>
<span class="na">flask_secret</span><span class="o">=</span>
<span class="na">debug</span><span class="o">=</span><span class="s">True</span>
<span class="na">log_level</span><span class="o">=</span><span class="s">0</span>
<span class="na">mc</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="na">mc_debug</span><span class="o">=</span><span class="s">0</span>
<span class="na">db</span><span class="o">=</span><span class="s">postgresql://pyhackers:@localhost/pyhackers</span>

<span class="k">[sentry]</span>
<span class="c1">#dsn= http://sentry.local</span>

<span class="k">[twitter]</span>
<span class="na">client_id</span><span class="o">=</span>
<span class="na">client_secret</span><span class="o">=</span>

<span class="k">[github]</span>
<span class="na">client_id</span><span class="o">=</span>
<span class="na">client_secret</span><span class="o">=</span>
</code></pre></div>

<p>and I've created a file called config.py which will initialize the <code>RawConfigParser</code> to read the configuration file.</p>

<div class="syntax"><pre><code><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">ConfigParser</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="o">.</span><span class="n">RawConfigParser</span><span class="p">()</span>

<span class="n">configfiles</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

<span class="c"># load default config file</span>
<span class="n">dev_cfg</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">),</span> <span class="s">&#39;app.local.cfg&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;Dev: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">dev_cfg</span><span class="p">)</span>
<span class="n">configfiles</span> <span class="o">+=</span> <span class="p">[</span><span class="n">dev_cfg</span><span class="p">]</span>
<span class="c"># add more config files in your server to override the configuration of your development environment</span>
<span class="n">configfiles</span> <span class="o">+=</span> <span class="p">[</span><span class="s">&#39;/var/`&#39;</span><span class="p">]</span>

<span class="n">logging</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&#39;Configuration files read: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">configfiles</span><span class="p">)</span>
<span class="c"># the MOST important line is here. Read the configuration.</span>
<span class="n">files_read</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">configfiles</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&#39;Configuration files read: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">files_read</span><span class="p">)</span>
</code></pre></div>

<p>Once this file is included, the config parser will run and will expose the <code>config</code> variable to the external files. Lets include it to our github
oauth file. Be careful with the name of your configuration file; mine is called <strong>app.local.cfg</strong></p>

<div class="syntax"><pre><code><span class="kn">from</span> <span class="nn">rauth.service</span> <span class="kn">import</span> <span class="n">OAuth2Service</span>
<span class="kn">from</span> <span class="nn">config</span> <span class="kn">import</span> <span class="n">config</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">github</span> <span class="o">=</span> <span class="n">OAuth2Service</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;github&#39;</span><span class="p">,</span>
                       <span class="n">authorize_url</span><span class="o">=</span><span class="s">&#39;https://github.com/login/oauth/authorize&#39;</span><span class="p">,</span>
                       <span class="n">access_token_url</span><span class="o">=</span><span class="s">&quot;https://github.com/login/oauth/access_token&quot;</span><span class="p">,</span>
                       <span class="n">client_id</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;github&quot;</span><span class="p">,</span> <span class="s">&#39;client_id&#39;</span><span class="p">),</span>
                       <span class="n">client_secret</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;github&quot;</span><span class="p">,</span> <span class="s">&#39;client_secret&#39;</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>

<p>So, our github OAuth2Service is ready to take action. It's time to connect our Flask URL endpoints.</p>

<div class="syntax"><pre><code><span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/oauth/github&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">login</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;You can also specify the redirect URL, but I leave as it is.&quot;&quot;&quot;</span>
    <span class="c"># params = {&#39;redirect_uri&#39;: redirect_uri}</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">github</span><span class="o">.</span><span class="n">get_authorize_url</span><span class="p">())</span> <span class="c">#**params))</span>
</code></pre></div>

<p>Once the user requests the <code>/oauth/github</code> Flask will redirect the user to a specific URL that will be generated by the Oauth2Service.
This URL is going to be a special Github URL that will ask users if they are sure to give permissions to the application.</p>

<p><img src='http://cdn.pythonarticles.com/static/img/github_auth.png' alt='github integration permission question /></p>

<p>After the user accepts the consequences, she will be redirected back to your application. Github will pass the code parameter.
Lets implement the redirection</p>

<div class="syntax"><pre><code><span class="nd">@app.route</span><span class="p">(</span><span class="s">&#39;/oauth/github/authorized&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">authorized</span><span class="p">():</span>
    <span class="c"># redirect_uri = url_for(&#39;authorized&#39;, _external=True)</span>
    <span class="n">redirect_uri</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">quote</span><span class="p">(</span><span class="s">&quot;http://localhost:5001/oauth/github/authorized&quot;</span><span class="p">)</span>

<pre><code>&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;redirect_uri&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;redirect_uri&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;https://github.com/login/oauth/access_token&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;client_id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;github&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;client_id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;client_secret&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;github&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;client_secret&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;code&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;response_data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url_decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;access_token&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response_data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;access_token&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;user_data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://api.github.com/user&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;access_token&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;access_token&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;user_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;user_data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;jsonify&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user_info&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
</code></pre>

</code></pre></div>

<p>I've found out that the normal RAuth documentation(which uses Facebook as the example) was not working correctly.</p>

<p>Let's dive into the details and explain what we did.</p>

<div class="syntax"><pre><code><span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;code&#39;</span><span class="p">],</span> <span class="n">redirect_uri</span><span class="o">=</span><span class="n">redirect_uri</span><span class="p">)</span>
</code></pre></div>

<p>Use the code that Github gave us with the user redirect. Github <a href="http://developer.github.com/v3/oauth/#web-application-flow">Oauth Web Flow Documentation section 2 says that</a> once the code is recieve the next step is to make a POST
request to github to fetch the <code>access<em>token</code> via a POST request using <code>client</em>id</code>, <code>code</code>, and <code>scope</code> if wanted.
Since I only want to get the public information, I did not specified any <a href="http://developer.github.com/v3/oauth/#scopes">scopes</a>.</p>

<pre><code>POST https://github.com/login/oauth/access_token
</code></pre>

<p>translated to the following python code</p>

<div class="syntax"><pre><code><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">&#39;https://github.com/login/oauth/access_token&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span>
        <span class="s">&#39;client_id&#39;</span><span class="p">:</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;github&quot;</span><span class="p">,</span> <span class="s">&#39;client_id&#39;</span><span class="p">),</span>
        <span class="s">&#39;client_secret&#39;</span><span class="p">:</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;github&quot;</span><span class="p">,</span> <span class="s">&#39;client_secret&#39;</span><span class="p">),</span>
        <span class="s">&#39;code&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;code&#39;</span><span class="p">],</span>
    <span class="p">},</span> <span class="p">)</span>
</code></pre></div>

<p>and let's get our access token</p>

<div class="syntax"><pre><code><span class="n">response_data</span> <span class="o">=</span>  <span class="p">(</span><span class="n">url_decode</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">))</span>
<span class="n">access_token</span> <span class="o">=</span> <span class="n">response_data</span><span class="p">[</span><span class="s">&#39;access_token&#39;</span><span class="p">]</span>
</code></pre></div>

<p>Allright, we have a <code>access_token</code> now. It's time to query github API to learn who this user is;</p>

<div class="syntax"><pre><code><span class="n">user_data</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;https://api.github.com/user&quot;</span><span class="p">,</span><span class="n">params</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">access_token</span><span class="o">=</span><span class="n">access_token</span><span class="p">))</span>
<span class="n">user_info</span> <span class="o">=</span> <span class="n">user_data</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div>

<p><code>user_info</code> is a Python dictionary contains the following information</p>

<div class="syntax"><pre><code><span class="p">{</span>
    <span class="nt">&quot;avatar_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://secure.gravatar.com/avatar/1359f4b8cdd38927a92181bfe08ae90a?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png&quot;</span><span class="p">,</span>
    <span class="nt">&quot;bio&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;blog&quot;</span><span class="p">:</span> <span class="s2">&quot;blog.bahadir.io&quot;</span><span class="p">,</span>
    <span class="nt">&quot;company&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2009-10-25T11:52:40Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;xxx@xxx.com&quot;</span><span class="p">,</span>
    <span class="nt">&quot;events_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/events{/privacy}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;followers&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;followers_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/followers&quot;</span><span class="p">,</span>
    <span class="nt">&quot;following&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
    <span class="nt">&quot;following_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/following{/other_user}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;gists_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/gists{/gist_id}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;gravatar_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1359f4b8cdd38927a92181bfe08ae90a&quot;</span><span class="p">,</span>
    <span class="nt">&quot;hireable&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;html_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/bcambel&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">144385</span><span class="p">,</span>
    <span class="nt">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;Amsterdam, The Netherlands&quot;</span><span class="p">,</span>
    <span class="nt">&quot;login&quot;</span><span class="p">:</span> <span class="s2">&quot;bcambel&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Bahadir Cambel&quot;</span><span class="p">,</span>
    <span class="nt">&quot;organizations_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/orgs&quot;</span><span class="p">,</span>
    <span class="nt">&quot;public_gists&quot;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
    <span class="nt">&quot;public_repos&quot;</span><span class="p">:</span> <span class="mi">62</span><span class="p">,</span>
    <span class="nt">&quot;received_events_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/received_events&quot;</span><span class="p">,</span>
    <span class="nt">&quot;repos_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/repos&quot;</span><span class="p">,</span>
    <span class="nt">&quot;starred_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/starred{/owner}{/repo}&quot;</span><span class="p">,</span>
    <span class="nt">&quot;subscriptions_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel/subscriptions&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;User&quot;</span><span class="p">,</span>
    <span class="nt">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2013-08-01T16:42:31Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.github.com/users/bcambel&quot;</span>
<span class="p">}</span>
</code></pre></div>


    <hr />

    
    
    
</article>
</div>

        </div>
       <!--  <div class='span2'>
            <ul class='socialism' style='height:130px;'>
                <li>
                   
                </li>
                <li>
                    <div class="g-plusone" data-annotation="inline" data-width="150" data-href="http://pythonarticles.com"></div>        
                </li>
                <li>
                    <div class="fb-like" data-href="http://facebook.com/pythonhackers" data-send="false" data-layout="button_count" data-width="50" data-show-faces="false" data-font="lucida grande"></div>            
                </li>
            </ul>
            <hr />

            
        </div> -->

</div>
<div class="container-fluid">
        <div id="disqus_thread"></div>

        <hr />

        <div class="footer">
            <i class="icon-github"></i>&nbsp;<a href="https://github.com/bcambel/pythonarticles">GitHub</a> /
            <i class="icon-twitter"></i>&nbsp;<a href="http://twitter.com/bahadircambel">Twitter</a> /
            <i class="icon-envelope-alt"></i>&nbsp;<a href="mailto:pyhackers@gmail.com">E-Mail</a>
        <br />
        &copy; Copyright 2013 pythonarticles.com. Made in Amsterdam with <span style='color:red'><i class='icon-heart'></i></span>&nbsp;by <a href='http://blog.bahadir.io'>Bahadir Cambel</a>
        <a href="http://mixpanel.com/f/partner"><img src="http://mixpanel.com/site_media/images/partner/badge_blue.png" alt="Mobile Analytics" /></a>
        </div>
    </div>
<div id="fb-root"></div>

<script type="text/javascript">
    var disqus_shortname = 'pythonarticles';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.masonry.js"></script>
<script src="/static/js/app.js?v=3" type='text/javascript'></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42128994-3', 'pythonarticles.com');
  ga('send', 'pageview');
    (function(d, t) {
        var g = d.createElement(t),
                s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';g.async=true;
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));


(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/yoGOBbGbUSIe4CqP5RFA.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();

UserVoice = window.UserVoice || [];
UserVoice.push(['showTab', 'classic_widget', {
  mode: 'full',
  primary_color: '#cc6d00',
  link_color: '#007dbf',
  default_mode: 'support',
  forum_id: 215760,
  tab_label: '?',
  tab_color: '#cc6d00',
  tab_position: 'bottom-left',
  tab_inverted: false
}]);

  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;js.async=true;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=572493392790094";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.asyn=true;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);

mixpanel.init("7d8f64c3d8511ad00480e190d32bdc3c"); 

// mixpanel.track_links(".nav", "Clicked Nav Link");
// mixpanel.track_links("article", "Article Link");
mixpanel.track_links("#footer", "Footer Link");

mixpanel.track_links('newsletter-link', "Newsletter Popup");
mixpanel.track_forms("#mc-embedded-subscribe-form", "Newsletter Form");
/* end Mixpanel */
</script>
<!-- Begin MailChimp Signup Form -->
<div class="modal hide fade" id="mc_embed_signup">
	<form action="http://pythonarticles.us7.list-manage.com/subscribe/post?u=ec40ca305ad5132552f8666a7&amp;id=9a8469ed7f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Subscribe to weekly newsletter</h3>
  </div>
  <div class="modal-body">
    
	<label for="mce-EMAIL">Subscribe to our mailing list</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>

  </div>
  <div class="modal-footer">
    <a href="#" class="btn pull-left" data-dismiss='modal'>Close</a>
    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary">
  </div>
  </form>
</div>
<!--End mc_embed_signup-->
</body>
</html>