<!-- Auto generated -->
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>The Journey of Programming Entrepreneurship</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="http://fonts.googleapis.com/css?family=Muli|Domine|Amaranth:400,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!--link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"-->
 	<link href="//netdna.bootstrapcdn.com/bootswatch/2.3.2/flatly/bootstrap.min.css" rel='stylesheet' >
   <link href="//netdna.bootstrapcdn.com/font-awesome/2.0/css/font-awesome.css" rel="stylesheet">
    <link href="/media/css/app.css?v=2" rel="stylesheet">
</head>
<body>


<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="/">&nbsp;The Journey&nbsp;</a>
            <ul class="nav">
                <li class=""><a href="/">Home</a></li>
                <li class="">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Posts<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <li>
                            <a href="/posts/decorators_part1.html">
                                decorators_part1
                            </a>
                        </li>
                        
                        <li>
                            <a href="/posts/decorators_part2.html">
                                decorators_part2
                            </a>
                        </li>
                        
                        <li>
                            <a href="/posts/generators.html">
                                generators
                            </a>
                        </li>
                        
                        <li>
                            <a href="/posts/introduction_to_flask.html">
                                introduction_to_flask
                            </a>
                        </li>
                        
                        <li>
                            <a href="/posts/itertools.html">
                                itertools
                            </a>
                        </li>
                        
                    </ul>
                </li>
                </li>
                <li>
                    <form class="navbar-search pull-left" action="/search" method="post">
                        <input type="text" class="search-query" placeholder="Search" id="term" name="term">
                    </form>
                </li>
            </ul>
        </div>
    </div>
</div>
    <div class="container main-content">
        
<article id="content_html" class="span10">
    <p>In the part 1, we described the most basic usage of the decorators. Decorators are functions that intercepts the actual implementation
and do something. Remember that functions are first class citizens(objects) in Python.</p>

<p>Fire up your favorite terminal, navigate to code directory and initialize python; start typing </p>

<p>```python</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>from ver2 import *
      original<em>int = int
      @intercept</em>me
      ... def int(value):
      ...     logging.info("Overwritten integer function is here :)")
      ...     res = original_int( value )
      ...     return res
      ... 
      int(10000)
      <a href="ver2.py#20">2013-07-09 20:11:09,906</a>DEBUG   Starting capturing the time of the executing 'int'
      <a href="stdin>#">2013-07-09 20:11:09,906</a>INFO    Overwritten integer function is here :)
      <a href="ver2.py#25">2013-07-09 20:11:09,907</a>DEBUG   Function: [int] =&gt; Took [0:00:00.000226]
      10000
      int("231232")
      <a href="ver2.py#20">2013-07-09 20:11:15,875</a>DEBUG   Starting capturing the time of the executing 'int'
      <a href="stdin>#">2013-07-09 20:11:15,876</a>INFO    Overwritten integer function is here :)
      <a href="ver2.py#25">2013-07-09 20:11:15,876</a>DEBUG   Function: [int] =&gt; Took [0:00:00.000315]
      231232</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>```</p>

<p>Python builtin function <strong>int</strong> overriden at the above code, and we redefined the int function. Now, whenever you call
the int function, our decorator will take presedance and calculate the performance of the integer. Be aware that
this is not a good way to time execution of a program or function, but think of it is as a informant.</p>

<h2>Implement decorator via a class</h2>

<p>```python
import logging
import random
from datetime import datetime as dt
import time</p>

<p>logging.basicConfig(format='<a href="%(filename">%(asctime)s</a>s#%(lineno)d)%(levelname)-7s %(message)s',
                    level=logging.NOTSET)</p>

<p>class intercept_me(object):
   def <strong>init</strong> (self, func):
      self.func = func
      logging.debug(id(self))</p>

<p>def <strong>call</strong> (self, <em>args, *</em>kwargs):
      return self.func (<em>args, *</em>kwargs)</p>

<p>@intercept<em>me
def some</em>slow_function():
    logging.info("Will sleep a bit..")
    time.sleep(1+ int((random.random()*10)%5))
    return 'boohoo'</p>

<p>for i in range(0,2):
    logging.info("{0} Starting iter {1}{0}".format(20*"=",i+1))
    logging.info(some<em>slow</em>function())</p>

<p>logging.info("done")
```</p>

<p>will result in the following output in your console. As you see, the constructor of our class is only called one time,
which means that the class is initialized only one time.</p>

<p><code>
[2013-07-09 21:05:07,815](dec_via_class.py#12)DEBUG   4300575376
[2013-07-09 21:05:07,815](dec_via_class.py#24)INFO    ==================== Starting iter 1====================
[2013-07-09 21:05:07,815](dec_via_class.py#19)INFO    Will sleep a bit..
[2013-07-09 21:05:10,816](dec_via_class.py#25)INFO    boohoo
[2013-07-09 21:05:10,816](dec_via_class.py#24)INFO    ==================== Starting iter 2====================
[2013-07-09 21:05:10,816](dec_via_class.py#19)INFO    Will sleep a bit..
[2013-07-09 21:05:13,817](dec_via_class.py#25)INFO    boohoo
[2013-07-09 21:05:13,817](dec_via_class.py#27)INFO    done
</code></p>

    <hr />
    <a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-related="bahadircambel: Entreprenership 'n Programming " data-text='decorators_part2'>Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
</article>


        <div id="disqus_thread"></div>
        <hr />

        <div class="footer">
            <i class="icon-github"></i>&nbsp;<a href="https://github.com/bcambel">GitHub</a> /
            <i class="icon-twitter"></i>&nbsp;<a href="http://twitter.com/bahadircambel">Twitter</a> /
            <i class="icon-envelope-alt"></i>&nbsp;<a href="mailto:bcambel@gmail.com">E-Mail</a>
        <br />
        &copy; Copyright 2012 by Bahadir Cambel
        </div>
    </div>
    <div class="profile">
        <div class="">
            <img src='/media/img/profile.jpg' alt='Bahadir Cambel' class="img-circle"/>
        </div>
        <p>
            Entrepreneur & Programmer
        </p><div class="keywords">Python, MongoDB, PostgreSQL, Flask, Celery</div>
        <div class="social">
            <a href="https://twitter.com/bahadircambel" class="twitter-follow-button" data-show-screen-name="false" data-show-count="true" data-lang="en">Follow @me</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
        <div>
            <i class="icon-github"></i>&nbsp;<a href="https://github.com/bcambel">GitHub</a> <br />
            <i class="icon-twitter"></i>&nbsp;<a href="http://twitter.com/bahadircambel">Twitter</a> <br />
            <i class="icon-envelope-alt"></i>&nbsp;<a href="mailto:bcambel@gmail.com">E-Mail</a> <br />
        </div>
    </div>


<script type="text/javascript">
    var disqus_shortname = 'entreprogrammeurjourney';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.masonry.js"></script>
<script src="/static/js/markdown.js" type='text/javascript'></script>
<script src="/static/js/app.js" type='text/javascript'></script>
<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37002437-2']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>
<script>
    (function(d, t) {
        var g = d.createElement(t),
                s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>
</body>
</html>