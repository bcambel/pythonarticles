<!-- Auto generated by http://github.com/bcambel/pythonarticles at 2013-07-24 22:13:56.584285UTC-->
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Decorators - Part I</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Decorators - Part I"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="http://pythonarticles.com/decorators_part1.html"/>
    <meta property="og:site_name" content="PythonArticles"/>
    <meta property="og:description" content="python decorators, how to use decorators"/>
    <meta name="description" content="python decorators, how to use decorators" />
    <meta name='keywords' content='python decorators, how to use python decorators, decorators example' />
    <link rel="alternate" type="application/rss+xml" title="PythonArticles RSS Feed" href="http://feeds.feedburner.com/PyArticles" />

    <link href="http://fonts.googleapis.com/css?family=Muli|Domine|Amaranth:400,700&subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!--link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"-->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
 	<!-- <link href="//netdna.bootstrapcdn.com/bootswatch/2.3.2/flatly/bootstrap-combined.min.css" rel='stylesheet' > -->
   <link href="//netdna.bootstrapcdn.com/font-awesome/2.0/css/font-awesome.css" rel="stylesheet">
   <link href="http://cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
    <link href="/static/css/app.css?v=4" rel="stylesheet">
    <link href="/static/css/pysegments.css?v=2" rel="stylesheet">
</head>
<body>


<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="/">&nbsp;Python Articles&nbsp;</a>
            <ul class="nav">
                <li class=""><a href="/">Home</a></li>
                <li class="">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Posts<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <li>
                            <a href="/decorators_part1.html">
                                decorators part1
                            </a>
                        </li>
                        
                        <li>
                            <a href="/decorators_part2.html">
                                decorators part2
                            </a>
                        </li>
                        
                        <li>
                            <a href="/generators.html">
                                generators
                            </a>
                        </li>
                        
                        <li>
                            <a href="/introduction_to_flask.html">
                                introduction to flask
                            </a>
                        </li>
                        
                        <li>
                            <a href="/itertools.html">
                                itertools
                            </a>
                        </li>
                        
                        <li>
                            <a href="/list_comprehension.html">
                                list comprehension
                            </a>
                        </li>
                        
                        <li>
                            <a href="/mock.html">
                                mock
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_dictionaries.html">
                                python dictionaries
                            </a>
                        </li>
                        
                        <li>
                            <a href="/python_lists.html">
                                python lists
                            </a>
                        </li>
                        
                    </ul>
                </li>
                <li><a href='#mc_embed_signup' data-toggle='modal'>Newsletter</a></li>
            </ul>
            <ul class="nav pull-right">
                <li style='margin-top:10px'>
<div class="fb-like" data-href="http://facebook.com/pythonhackers" data-send="false" data-layout="button_count" data-width="50" data-show-faces="false" data-font="lucida grande"></div>
                </li>
                <li style='margin-top:10px;'>
                    <div class="g-plusone" data-annotation="inline" data-width="150" data-href="http://pythonarticles.com"></div>
                </li>
                <li style='margin-top:10px'>
<a href="https://twitter.com/pythonhackers" class="twitter-follow-button" data-show-count="true" data-lang="en">Follow @pythonhackers</a>
<script>window.setTimeout(!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs"),1000);</script>
                </li>
                <li>
                    <!-- <a href='http://feeds.feedburner.com/PyArticles' ><i class='icon-rss'></i> &nbsp;RSS </a> -->
                    <a href="http://feeds.feedburner.com/PyArticles"><img src="http://feeds.feedburner.com/~fc/PyArticles?bg=99CCFF&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a>
                </li>
            </ul>
        </div>
    </div>
</div>
    <div class="container-fluid main-content">
        
<article id="content_html" >
<a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-related="bahadircambel: Entreprenership 'n Programming " data-text='Decorators - Part I'>Tweet</a>
<div class="g-plusone" data-annotation="inline" data-width="100"></div>

    <span class='pull-right article_date'>2013-07-12</span>
    <span class='pull-right badge badge-info'>intermediate</span>
     
            <span class='pull-right badge badge-warning'>decorator</span>
            
    <h1>Decorators - Part I</h1>

<p>Decorators are really nice way of doing some work without effecting the actual implementation. Its similar to wire tapping but
with additional functionality. This article is part 1 for describing the basic usage and the execution flow of the 
decorators. In the next part, we will dive into more detail into the decorator magic.</p>

<p>Let's start with a simple example; say you have functions that takes a bit time to complete, and you want to log 
how much time did it take ?</p>

<p>In this example we will use the following function as the starting point</p>

<div class="syntax"><pre><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">some_slow_function</span><span class="p">():</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()))</span>
    <span class="k">return</span> <span class="s">&#39;boohoo&#39;</span>
</code></pre></div>

<p>It will sleep between 1 to 2 seconds and return <strong>boohoo</strong>. </p>

<p>Adding some flavor into the mix with the following code; Let's call our slow function 3 times.</p>

<div class="syntax"><pre><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">some_slow_function</span><span class="p">()</span>
</code></pre></div>

<p>When we run the above code ;</p>

<pre><code>boohoo
boohoo
boohoo
</code></pre>

<p>We couldn't capture how many seconds did it take to complete the operation. You might argue that we could add logging statements 
into the mix. That's correct, and you probably should do it. </p>

<p>Lets define our first decorator. </p>

<div class="syntax"><pre><code><span class="c"># **intercepted_function** is a parameter that will be passed</span>
<span class="c"># by Python before the code works.</span>
<span class="k">def</span> <span class="nf">intercept_me</span><span class="p">(</span><span class="n">intercepted_function</span><span class="p">):</span>
    <span class="c"># *args and **kwargs are the parameters that are supplied to our original function</span>
    <span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c"># call our actual function</span>
        <span class="c"># store the return of the function in a parameter</span>
        <span class="n">actual_result</span> <span class="o">=</span> <span class="n">intercepted_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">actual_result</span>
    <span class="c"># return our inner function which will intercept the call</span>
    <span class="k">return</span> <span class="n">timer</span>

<span class="nd">@intercept_me</span>
<span class="k">def</span> <span class="nf">some_slow_function</span><span class="p">():</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()))</span>
    <span class="k">return</span> <span class="s">&#39;boohoo&#39;</span>

<span class="c"># lets make a call to see the output</span>
<span class="k">print</span> <span class="n">some_slow_function</span><span class="p">()</span>    
</code></pre></div>

<p>As you see <code>intercept_me</code> is a function which returns a function which will intercept the call, but not going to do anything. 
Exactly the same.</p>

<pre><code>boohoo
</code></pre>

<p>Let's rewrite our decorator. Focus on the print line. </p>

<div class="syntax"><pre><code><span class="k">def</span> <span class="nf">intercept_me</span><span class="p">(</span><span class="n">intercepted_function</span><span class="p">):</span>
    <span class="c"># *args and **kwargs are the parameters that are supplied to our original function</span>
    <span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c"># call our actual function</span>
        <span class="c"># store the return of the function in a parameter</span>
        <span class="k">print</span> <span class="s">&quot;==I&#39;m the timer within the decorator=intercept_me&quot;</span>
        <span class="n">actual_result</span> <span class="o">=</span> <span class="n">intercepted_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">actual_result</span>
    <span class="c"># return our inner function which will intercept the call</span>
    <span class="k">return</span> <span class="n">timer</span>
</code></pre></div>

<p>and when you run the code you will get</p>

<pre><code>==I'm the timer within the decorator=intercept_me
boohoo
</code></pre>

<p>As you see, the print statement within the decorator, was printed before the <strong>boohoo</strong>. 
Let's add more logging statements to see the code flow more clear.</p>

<div class="syntax"><pre><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">random</span> 

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;[</span><span class="si">%(asctime)s</span><span class="s">](</span><span class="si">%(filename)s</span><span class="s">#</span><span class="si">%(lineno)d</span><span class="s">)</span><span class="si">%(levelname)-7s</span><span class="s"> </span><span class="si">%(message)s</span><span class="s">&#39;</span><span class="p">,</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">intercept_me</span><span class="p">(</span><span class="n">intercepted_function</span><span class="p">):</span>
    <span class="c"># *args and **kwargs are the parameters that are supplied to our original function</span>
    <span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c"># call our actual function</span>
        <span class="c"># store the return of the function in a parameter</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;==I&#39;m the timer within the decorator=intercept_me&quot;</span><span class="p">)</span>
        <span class="n">actual_result</span> <span class="o">=</span> <span class="n">intercepted_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Completed function call. Result =&gt; </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">actual_result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">actual_result</span>
    <span class="c"># return our inner function which will intercept the call</span>
    <span class="k">return</span> <span class="n">timer</span>

<span class="nd">@intercept_me</span>
<span class="k">def</span> <span class="nf">some_slow_function</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Will sleep a bit..&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span><span class="o">%</span><span class="mi">5</span><span class="p">))</span>
    <span class="k">return</span> <span class="s">&#39;boohoo&#39;</span>

<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">some_slow_function</span><span class="p">())</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Done....&quot;</span><span class="p">)</span>
</code></pre></div>

<p>The result of the implementation is as follows. All the decorator related logging statements are DEBUG and the rest is INFO
After <strong>Line#15</strong> the actual call is made which you will get the next (<strong>Line#27</strong>) INFO logging.
<strong>Boohoo</strong> is printed after the DEBUG statement <strong>line#16</strong> because the return of the function call is used within the 
<strong>line#23</strong> <code>logging.info(some<em>slow</em>function())</code></p>

<pre><code>[2013-07-09 14:20:08,903](test.py#14)DEBUG   ==I'm the timer within the decorator=intercept_me
[2013-07-09 14:20:08,903](test.py#23)INFO    Will sleep a bit..
[2013-07-09 14:20:13,903](test.py#16)DEBUG   Completed function call. Result =&gt; boohoo
[2013-07-09 14:20:13,904](test.py#27)INFO    boohoo
[2013-07-09 14:20:13,904](test.py#28)INFO    Done....
</code></pre>

<h2>Final version</h2>

<p>Here is the <a href="https://github.com/bcambel/pythonarticles/blob/master/examples/decorators/part1/ver2.py">latest version of the code</a></p>

<p>When you look carefully to the latest version of the sample, you will see the <strong>@wrap(intercepted_function)</strong>
decorator added to our inner function(<strong>timer</strong>). The reason for that is ;</p>

<p>Without the use of this decorator factory, the name of the example 
function would have been 'wrapper', 
and the docstring of the original example() would have been lost.
Take a look at the <a href="http://docs.python.org/2/library/functools.html#functools.wraps">origin documentation</a></p>

<div class="syntax"><pre><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">random</span> 
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span> <span class="k">as</span> <span class="n">dt</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;[</span><span class="si">%(asctime)s</span><span class="s">](</span><span class="si">%(filename)s</span><span class="s">#</span><span class="si">%(lineno)d</span><span class="s">)</span><span class="si">%(levelname)-7s</span><span class="s"> </span><span class="si">%(message)s</span><span class="s">&#39;</span><span class="p">,</span>
                    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">NOTSET</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">intercept_me</span><span class="p">(</span><span class="n">intercepted_function</span><span class="p">):</span>
    <span class="nd">@wraps</span><span class="p">(</span><span class="n">intercepted_function</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;*args and **kwargs are the parameters that are supplied to our original function&#39;&#39;&#39;</span>
        <span class="c"># get our actual function name</span>
        <span class="n">function_name</span> <span class="o">=</span> <span class="n">intercepted_function</span><span class="o">.</span><span class="n">func_name</span>
        <span class="c"># call our actual function</span>
        <span class="c"># store the return of the function in a parameter</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Starting capturing the time of the executing &#39;</span><span class="si">%s</span><span class="s">&#39;&quot;</span> <span class="o">%</span> <span class="n">function_name</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">actual_result</span> <span class="o">=</span> <span class="n">intercepted_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">stop</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">execution_time</span> <span class="o">=</span> <span class="n">stop</span> <span class="o">-</span> <span class="n">start</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;Function: [{fnc}] =&gt; Took [{timed}]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fnc</span><span class="o">=</span><span class="n">function_name</span><span class="p">,</span> <span class="n">timed</span><span class="o">=</span><span class="n">execution_time</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">actual_result</span>
    <span class="c"># return our inner function which will intercept the call</span>
    <span class="k">return</span> <span class="n">timer</span>

<span class="nd">@intercept_me</span>
<span class="k">def</span> <span class="nf">some_slow_function</span><span class="p">():</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Will sleep a bit..&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span> <span class="nb">int</span><span class="p">((</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span><span class="o">%</span><span class="mi">5</span><span class="p">))</span>
    <span class="k">return</span> <span class="s">&#39;boohoo&#39;</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;{0} Starting iter {1}{0}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">10</span><span class="o">*</span><span class="s">&quot;=&quot;</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">some_slow_function</span><span class="p">())</span>
</code></pre></div>

<p>Here is the results;</p>

<div class="syntax"><pre><code><span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">56</span><span class="p">,</span><span class="mi">366</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#35)INFO    ========== Starting iter 1==========</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">56</span><span class="p">,</span><span class="mi">366</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#17)DEBUG   Starting capturing the time of the executing &#39;some_slow_function&#39;</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">56</span><span class="p">,</span><span class="mi">366</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#30)INFO    Will sleep a bit..</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span><span class="mi">367</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#22)DEBUG   Function: [some_slow_function] =&gt; Took [0:00:04.001038]</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span><span class="mi">367</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#36)INFO    boohoo</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span><span class="mi">367</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#35)INFO    ========== Starting iter 2==========</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span><span class="mi">367</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#17)DEBUG   Starting capturing the time of the executing &#39;some_slow_function&#39;</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">00</span><span class="p">,</span><span class="mi">368</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#30)INFO    Will sleep a bit..</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">02</span><span class="p">,</span><span class="mi">368</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#22)DEBUG   Function: [some_slow_function] =&gt; Took [0:00:02.000702]</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">02</span><span class="p">,</span><span class="mi">368</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#36)INFO    boohoo</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">02</span><span class="p">,</span><span class="mi">369</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#35)INFO    ========== Starting iter 3==========</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">02</span><span class="p">,</span><span class="mi">369</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#17)DEBUG   Starting capturing the time of the executing &#39;some_slow_function&#39;</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">02</span><span class="p">,</span><span class="mi">369</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#30)INFO    Will sleep a bit..</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">03</span><span class="p">,</span><span class="mi">370</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#22)DEBUG   Function: [some_slow_function] =&gt; Took [0:00:01.000704]</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">03</span><span class="p">,</span><span class="mi">370</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#36)INFO    boohoo</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">03</span><span class="p">,</span><span class="mi">370</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#35)INFO    ========== Starting iter 4==========</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">03</span><span class="p">,</span><span class="mi">370</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#17)DEBUG   Starting capturing the time of the executing &#39;some_slow_function&#39;</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">03</span><span class="p">,</span><span class="mi">370</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#30)INFO    Will sleep a bit..</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">08</span><span class="p">,</span><span class="mi">371</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#22)DEBUG   Function: [some_slow_function] =&gt; Took [0:00:05.000781]</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">08</span><span class="p">,</span><span class="mi">371</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#36)INFO    boohoo</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">08</span><span class="p">,</span><span class="mi">371</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#35)INFO    ========== Starting iter 5==========</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">08</span><span class="p">,</span><span class="mi">371</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#17)DEBUG   Starting capturing the time of the executing &#39;some_slow_function&#39;</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">08</span><span class="p">,</span><span class="mi">371</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#30)INFO    Will sleep a bit..</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span><span class="mi">372</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#22)DEBUG   Function: [some_slow_function] =&gt; Took [0:00:05.000993]</span>
<span class="p">[</span><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">09</span> <span class="mi">14</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span><span class="mi">373</span><span class="p">](</span><span class="n">ver2</span><span class="o">.</span><span class="n">py</span><span class="c">#36)INFO    boohoo</span>
</code></pre></div>

<p><a href="http://pythonarticles.com/decorators_part2.html">Part 2</a></p>

<h2>Shameless plug</h2>

<p>Thanks to <a href="https://github.com/thijsdezoete">@thijsdezoete</a> for the initial kick in..</p>

<p>Well I literally stole Thijs's initial code and made modifications. We were talking about how to implement a 
performance tracker...</p>


    <hr />
    <a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-related="bahadircambel: Entreprenership 'n Programming " data-text='Decorators - Part I'>Tweet</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    <a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a>
    
    <div class="g-plusone" data-annotation="inline" data-width="200"></div>
</article>


        <div id="disqus_thread"></div>
        <hr />

        <div class="footer">
            <i class="icon-github"></i>&nbsp;<a href="https://github.com/bcambel/pythonarticles">GitHub</a> /
            <i class="icon-twitter"></i>&nbsp;<a href="http://twitter.com/bahadircambel">Twitter</a> /
            <i class="icon-envelope-alt"></i>&nbsp;<a href="mailto:pyhackers@gmail.com">E-Mail</a>
        <br />
        &copy; Copyright 2013 pythonarticles.com. Made in Amsterdam with <span style='color:red'><i class='icon-heart'></i></span>&nbsp;by <a href='http://blog.bahadir.io'>Bahadir Cambel</a>
        </div>
    </div>


<script type="text/javascript">
    var disqus_shortname = 'pythonarticles';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/static/js/jquery.masonry.js"></script>

<script src="/static/js/app.js?v=2" type='text/javascript'></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42128994-3', 'pythonarticles.com');
  ga('send', 'pageview');

</script>
<script>
    (function(d, t) {
        var g = d.createElement(t),
                s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>
<!-- UserVoice JavaScript SDK (only needed once on a page) -->
<script>(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/yoGOBbGbUSIe4CqP5RFA.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})()</script>

<!-- A tab to launch the Classic Widget -->
<script>
UserVoice = window.UserVoice || [];
UserVoice.push(['showTab', 'classic_widget', {
  mode: 'full',
  primary_color: '#cc6d00',
  link_color: '#007dbf',
  default_mode: 'support',
  forum_id: 215760,
  tab_label: 'Feedback & Support',
  tab_color: '#cc6d00',
  tab_position: 'middle-right',
  tab_inverted: false
}]);
</script>
<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=572493392790094";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<!-- Begin MailChimp Signup Form -->
<div class="modal hide fade" id="mc_embed_signup">
	<form action="http://pythonarticles.us7.list-manage.com/subscribe/post?u=ec40ca305ad5132552f8666a7&amp;id=9a8469ed7f" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Subscribe to weekly newsletter</h3>
  </div>
  <div class="modal-body">
    
	<label for="mce-EMAIL">Subscribe to our mailing list</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>

  </div>
  <div class="modal-footer">
    <a href="#" class="btn pull-left">Close</a>
    <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary">
  </div>
  </form>
</div>
<!--End mc_embed_signup-->
</body>
</html>